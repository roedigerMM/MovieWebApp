{% extends "base.html" %}

{% block content %}
  <section class="page-header">
    <div>
      <h1>Users</h1>
      <p class="subtitle">Manage movie collections for each user.</p>
    </div>
    <form class="inline-form" action="{{ url_for('create_user') }}" method="post">
      <label class="sr-only" for="name">Name</label>
      <input id="name" name="name" type="text" placeholder="Add a new user" required />
      <button class="btn primary" type="submit">Add User</button>
    </form>
  </section>

  {% if error %}
    <p class="alert">{{ error }}</p>
  {% endif %}

  <ul class="user-list">
    {% for user in users %}
      <li class="user-entry">
        <a href="{{ url_for('user_movies', user_id=user.id) }}" class="card-link">
          <span class="avatar">{{ user.name[:1] }}</span>
          <span>{{ user.name }}</span>
        </a>
      </li>
    {% endfor %}
  </ul>

  {% if not users %}
    <p class="empty-state">No users yet. Add one above to get started.</p>
  {% endif %}
{% endblock %}
